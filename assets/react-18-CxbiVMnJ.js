import{c,r as i}from"./iframe-DQP-uQIu.js";import"./preload-helper-PPVm8Dsz.js";var n={},u;function m(){if(u)return n;u=1;var e=c();return n.createRoot=e.createRoot,n.hydrateRoot=e.hydrateRoot,n}var R=m(),s=new Map;function v(){return globalThis.IS_REACT_ACT_ENVIRONMENT}var p=({callback:e,children:r})=>{let t=i.useRef();return i.useLayoutEffect(()=>{t.current!==e&&(t.current=e,e())},[e]),r};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,r=null;return{promise:new Promise((t,o)=>{e=t,r=o}),resolve:e,reject:r}});var d=async(e,r,t)=>{let o=await E(r,t);if(v()){o.render(e);return}let{promise:a,resolve:l}=Promise.withResolvers();return o.render(i.createElement(p,{callback:l},e)),a},w=(e,r)=>{let t=s.get(e);t&&(t.unmount(),s.delete(e))},E=async(e,r)=>{let t=s.get(e);return t||(t=R.createRoot(e,r),s.set(e,t)),t};export{d as renderElement,w as unmountElement};
